# ‚ö° ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤ CORS ‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡πá‡∏ß

## üö® ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
```
Access to fetch at 'https://script.google.com/macros/s/...' from origin 'http://localhost:3001' has been blocked by CORS policy
```

## üîß ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡πá‡∏ß (5 ‡∏ô‡∏≤‡∏ó‡∏µ)

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Google Apps Script
1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà https://script.google.com
2. ‡πÄ‡∏õ‡∏¥‡∏î‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ `Life Science Standards Register`
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ‡πÇ‡∏Ñ‡πâ‡∏î `doOptions(e)` function
4. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ CORS headers ‡πÉ‡∏ô `createResponse`

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: Deploy ‡πÉ‡∏´‡∏°‡πà
1. ‡∏Ñ‡∏•‡∏¥‡∏Å "Deploy" > "New deployment"
2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å "Type": "Web app"
3. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å "Execute as": "Me"
4. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å "Who has access": "Anyone"
5. ‡∏Ñ‡∏•‡∏¥‡∏Å "Deploy"
6. **‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å URL ‡πÉ‡∏´‡∏°‡πà**

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Environment Variables
1. ‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå `.env.local`
2. ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï URL:
```bash
NEXT_PUBLIC_GOOGLE_SHEETS_API_URL=https://script.google.com/macros/s/YOUR_NEW_SCRIPT_ID/exec
```

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 4: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö
1. ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö
2. ‡∏•‡∏≠‡∏á‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô‡πÉ‡∏´‡∏°‡πà
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Console ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö errors

## üß™ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢ test-cors.html

### ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ:
1. ‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå `test-cors.html` ‡πÉ‡∏ô browser
2. ‡∏Ñ‡∏•‡∏¥‡∏Å "‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠"
3. ‡∏î‡∏π‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå

### ‡∏´‡∏≤‡∏Å‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à:
- ‚úÖ ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
- ‚úÖ CORS Headers ‡∏û‡∏ö
- ‚úÖ API calls ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ

### ‡∏´‡∏≤‡∏Å‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß:
- ‚ùå ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Google Apps Script
- ‚ùå Deploy ‡πÉ‡∏´‡∏°‡πà
- ‚ùå ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï URL

## üöÄ ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏ö‡∏ö‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß

### ‡πÉ‡∏ä‡πâ Mock Data:
```javascript
// ‡πÉ‡∏ô lib/googleSheets.ts
if (process.env.NODE_ENV === 'development') {
  // ‡πÉ‡∏ä‡πâ mock data ‡πÅ‡∏ó‡∏ô
  return mockData;
}
```

### ‡πÉ‡∏ä‡πâ ngrok:
```bash
# ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á ngrok
brew install ngrok

# ‡∏£‡∏±‡∏ô ngrok
ngrok http 3000

# ‡πÉ‡∏ä‡πâ URL ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å ngrok
```

## üìã Checklist

- [ ] Google Apps Script ‡∏°‡∏µ `doOptions(e)` function
- [ ] Google Apps Script ‡∏°‡∏µ CORS headers
- [ ] Google Apps Script ‡∏ñ‡∏π‡∏Å Deploy ‡πÄ‡∏õ‡πá‡∏ô Web App
- [ ] Google Apps Script ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ "Anyone" access
- [ ] Environment Variables ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÅ‡∏•‡πâ‡∏ß
- [ ] ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢ test-cors.html ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à

## üéØ ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á

‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏•‡πâ‡∏ß:
- ‚úÖ ‡πÑ‡∏°‡πà‡∏°‡∏µ CORS error
- ‚úÖ ‡∏Å‡∏≤‡∏£‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ
- ‚úÖ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏î‡πâ‡∏õ‡∏Å‡∏ï‡∏¥
- ‚úÖ API calls ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à

## üö® ‡∏´‡∏≤‡∏Å‡∏¢‡∏±‡∏á‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤

### ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°:
1. **Google Apps Script Logs**: ‡∏î‡∏π Execution transcript
2. **Network Tab**: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö request/response
3. **Console**: ‡∏î‡∏π error messages
4. **test-cors.html**: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠

### ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°:
1. **‡πÉ‡∏ä‡πâ Vercel**: Deploy ‡πÑ‡∏õ‡∏¢‡∏±‡∏á Vercel ‡πÅ‡∏ó‡∏ô localhost
2. **‡πÉ‡∏ä‡πâ Firebase**: ‡πÉ‡∏ä‡πâ Firebase Functions
3. **‡πÉ‡∏ä‡πâ Google Sheets API**: ‡πÉ‡∏ä‡πâ API ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á

## üìû ‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠

‡∏´‡∏≤‡∏Å‡∏¢‡∏±‡∏á‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤:
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Google Apps Script Logs
2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Network Tab ‡πÉ‡∏ô Browser
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Environment Variables
4. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢ test-cors.html
5. ‡∏•‡∏≠‡∏á‡πÉ‡∏ä‡πâ ngrok ‡∏´‡∏£‡∏∑‡∏≠ Vercel
